<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Email templates for Nonconformity Stages -->
    <data noupdate="1">

        <record id="email_template_nonconformity_draft" model="mail.template">
            <field name="name">Notify the person in charge of the new Nonconformity</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>A new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
        </record>

        
            <record id="email_template_nonconformity_analysis" model="mail.template">
            <field name="name">Notify the person in charge of pending Analysis</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>The Analysis of a new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
            </record>

            <record id="email_template_nonconformity_planing" model="mail.template">
            <field name="name">Notify the person in charge of pending Action Plan</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>The Analysis of a new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
            </record>

            <record id="email_template_nonconformity_open" model="mail.template">
            <field name="name">Notify the person in charge of Nonconformity in Progress</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>The Analysis of a new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
            </record>

            <record id="email_template_nonconformity_review" model="mail.template">
            <field name="name">Notify the person in charge of Pending Performance Evaluation / Review</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>The Analysis of a new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
            </record>

            <record id="email_template_nonconformity_done" model="mail.template">
            <field name="name">Notify the person in charge of completed Nonconformity</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>The Analysis of a new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
            </record>

            <record id="email_template_nonconformity_cancel" model="mail.template">
            <field name="name">Notify the person in charge of cencelled Nonconformity</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">${object.name}</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
<p>Hello,</p>
<p>The Analysis of a new nonconformity has been assigned to you : <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a></p>
<p>${object.description}</p>

<p>
  Thank you<br />
  --<br />
  Odoo
</p>]]>
            </field>
            </record>

        <!-- Email template for Nonconformity Reminders -->
        <record id="nonconformity_email_template_reminder" model="mail.template">
            <field name="name">Reminder to Manager and Responsible</field>
            <field name="email_from">${object.create_uid.company_id.email or 'noreply@localhost'}</field>
            <field name="subject">Reminder on Nonconformity: "${object.name}"</field>
            <field name="email_to">${object.manager_user_id.email},${object.responsible_user_id.email}</field>
            <field name="model_id" ref="model_mgmtsystem_nonconformity"/>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.create_uid.partner_id.lang}</field>
            <field name="body_html">
                <![CDATA[
    <p>Hello,</p>

    <p>
      This is an automated message to remind you that the
      following nonconformity is due to be completed in 10 days but still has unfinished actions (${object.date_deadline}):

      <a href="${object.get_nonconformity_url()}">${object.get_nonconformity_url()}</a>
    </p>

    <p>
      Thank you and have a nice day.<br />
      --<br />
      Odoo
    </p>
            ]]>
            </field>
        </record>

    </data>
</odoo>
